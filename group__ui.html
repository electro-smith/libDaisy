<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libDaisy: UI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libDaisy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">UI<div class="ingroups"><a class="el" href="group__libdaisy.html">LIBDAISY</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classdaisy_1_1_u_i.html">UI</a> system. <a class="el" href="classdaisy_1_1_u_i.html">UI</a> event queue, event readers, etc.  
</p>
<p ><a class="el" href="classdaisy_1_1_u_i.html">UI</a> system. <a class="el" href="classdaisy_1_1_u_i.html">UI</a> event queue, event readers, etc. </p>
<p >A queue that holds user input events in the <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system.</p>
<p >A generic <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system.</p>
<p >The base class for a page in the <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system.</p>
<p >A descriptor for a canvas in the <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system.</p>
<p >The type of arrow button in the <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system.</p>
<p >A potentiometer monitor that generates events in a <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a>.</p>
<p >A menu page for small screens.</p>
<p >A button monitor that generates events in a <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a>.</p>
<p >Base class for complex menus.</p>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>This is the base class for any form of <a class="el" href="classdaisy_1_1_ui_page.html">UiPage</a> that displays a menu with multiple items. It handles all the logic behind a menu (selecting items, editing items, etc.) but doesn't implement any form of drawing. Implement your own drawing routines by overriding <a class="el" href="classdaisy_1_1_ui_page.html#a0b2bcaa60892042f99196c68c0cf11c2">UiPage::Draw()</a> or use <code><a class="el" href="classdaisy_1_1_full_screen_item_menu.html">FullScreenItemMenu</a></code></p>
<p >Vaious types of items can be added to the menu, e.g.</p><ul>
<li>Checkbox items to toggle something on/off,</li>
<li>Generic action items that call a function when activated,</li>
<li>Value editing items for editing int/float/enum values,</li>
<li>Close items that close the menu when activated (useful when no cancel button is available),</li>
<li>Custom items that do whatever you want them to do, by providing a CustomItem object that handles the item-specific functionality.</li>
</ul>
<p >The Abstract Menu can work with a wide variety of physical controls, here are a couple of combinations that are possible:</p><ul>
<li>3 buttons: Left/Right to select and edit items, Ok to activate or enter/leave editing mode</li>
<li>5 buttons: Up/Down to select, Ok to activate/enter/leave, Cancel to close menu, function button to use coarse step size when editing</li>
<li>6 buttons: Left/Right to select, Up/Down to quickly edit selected items, Ok/Cancel to enter/leave</li>
<li>1 encoder with pushbutton</li>
<li>1 encoder for selecting items, another one for editing their values</li>
<li>1 encoder for selecting items and a value slider potentiometer for editing</li>
<li>... any other combination of the above</li>
</ul>
<p >These are the controls that the <a class="el" href="classdaisy_1_1_abstract_menu.html">AbstractMenu</a> will react to and their associated function:</p><ul>
<li>Left/Right buttons: Select items when <code>Orientation::leftRightSelectUpDownModify</code>, directly edit value of the selected item when <code>Orientation::upDownSelectLeftRightModify</code>.</li>
<li>Up/Down buttons: Select items when <code>Orientation::upDownSelectLeftRightModify</code>, directly edit value of the selected item when <code>Orientation::leftRightSelectUpDownModify</code>.</li>
<li>Ok button: Activate the action of the selected item (if it has an action, e.g. <code>ItemType::closeMenuItem</code>) otherwise enter/leave editing mode where the arrow buttons used for selection will now edit the value instead (only possible if <code>allowEntering</code> is set to <code>true</code>).</li>
<li>Cancel button: Closes the menu page or leaves editing mode</li>
<li>Menu encoder: Selects items; edits item value when in editing mode</li>
<li>Value <a class="el" href="classdaisy_1_1_encoder.html" title="Generic Class for handling Quadrature Encoders   Inspired/influenced by Mutable Instruments (pichenet...">Encoder</a>: Edits value of selected item</li>
<li>Value potentiometer/slider: Edits value of selected item</li>
<li>Function button: Uses an alternate step size when modifying the value with encoders or buttons while pressed</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>This class monitors a number of buttons and detects changes in their state. When a change is detected, an event is added to a <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a>. If required, software debouncing can be applied.</p>
<p >This class can monitor an arbitrary number of buttons or switches, as configured by its template argument <code>numButtons</code>. Each of the buttons is identified by an ID number from <code>0 .. numButtons - 1</code>. This number will also be used when events are posted to the <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a>. It's suggested to define an enum in your project like this: </p><pre class="fragment">enum ButtonId { bttnOkay = 0, bttnCancel = 1, bttnStart = 2 };
</pre><p> In different projects, diffent ways of reading the button states will be used. That's why this class uses a generic backend that you'll have to write. The BackendType class will provide the source data for each button or switch. An instance of this backend must be supplied via the constructor. It must implement the following public function via which the <a class="el" href="classdaisy_1_1_button_monitor.html">ButtonMonitor</a> will request the current state of the button: </p><pre class="fragment">bool IsButtonPressed(uint16_t buttonId);
</pre> <dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">BackendType</td><td>The class type of the backend that will supply button states. </td></tr>
    <tr><td class="paramname">numButtons</td><td>The number of buttons to monitor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>This class builds upon the menu logic of <a class="el" href="classdaisy_1_1_abstract_menu.html">AbstractMenu</a> and adds drawing routines that are suitable for small screens.</p>
<p >By default, it will paint to the canvas returned by <code><a class="el" href="classdaisy_1_1_u_i.html#a6a5d8c6bd712790698727b14b18ca2ac">UI::GetPrimaryOneBitGraphicsDisplayId()</a></code>. It can also be configured to paint to a different canvas.</p>
<p >Each item will occupy the entire display. <a class="el" href="classdaisy_1_1_full_screen_item_menu.html">FullScreenItemMenu</a> uses the LookAndFeel system to draw draw the items. This means that you can create your own graphics design by creating your own LookAndFeel based on the OneBitGraphicsLookAndFeel class and apply that either globally (UI::SetOneBitGraphicsLookAndFeel()) or to this page only (UiPage::SetOneBitGraphicsLookAndFeel()).</p>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>This class monitors a number of potentiometers and detects pot movements. When a movement is detected, an event is added to a <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a>. Pots can be either "idle" or "moving" in which case different dead bands are applied to them. The current state and value of a pot can be requested at any time.</p>
<p >This class can monitor an arbitrary number of potentiometers, as configured by its template argument <code>numPots</code>. Each of the pots is identified by an ID number from <code>0 .. numPots - 1</code>. This number will also be used when events are posted to the <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a>. It's suggested to define an enum in your project like this: </p><pre class="fragment">enum PotId { potA = 0, potB = 1, potC = 2 };
</pre><p> In different projects, diffent ways of reading the potentiometer positions will be used. That's why this class uses a generic backend that you'll have to write. The BackendType class will provide the source data for each potentiometer. An instance of this backend must be supplied via the constructor. It must implement the following public function via which the <a class="el" href="classdaisy_1_1_pot_monitor.html">PotMonitor</a> will request the current value of the potentiometer in the range <code>0 .. 1</code>: </p><pre class="fragment">float GetPotValue(uint16_t potId);
</pre> <dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">BackendType</td><td>The class type of the backend that will supply pot values. </td></tr>
    <tr><td class="paramname">numPots</td><td>The number of pots to monitor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd>
<dd>
jelliesen</dd></dl>
<p>A descriptor for a generic display / led / output device that's used in the <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system.</p>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>This system allows you to create complex and dynamic user interfaces with menus, pages and dialogs. It holds a stack of pages. Each page can react to user input on buttons, potentiometers, and encoders while drawing to one or multiple displays, leds or other output devices.</p>
<p >User input is consumed from a <a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a> and distributed to the pages from the top down. If a page doesn't handle an event, it will be forwarded to the next page below.</p>
<p >Pages are drawn from the bottom up. Multiple abstract canvases can be used for the drawing, where each canvas could be a graphics display, LEDs, alphanumeric displays, etc. The <a class="el" href="classdaisy_1_1_u_i.html">UI</a> system makes sure that drawing is executed with a constant refresh rate that can be individually specified for each canvas.</p>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>A queue that holds user interface events such as button presses or encoder turns. The queue can be filled from hardware drivers and read from a <a class="el" href="classdaisy_1_1_u_i.html">UI</a> object. Access to the queue is protected by a <a class="el" href="classdaisy_1_1_scoped_irq_blocker.html">ScopedIrqBlocker</a> - that means it's safe to add events from interrupt handlers. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
