<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libDaisy: daisy::ButtonMonitor&lt; BackendType, numButtons &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" type="image/x-icon" href="ES_Circle_Orange.PNG">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <a href="index.html"><img alt="Logo" src="DaisyLogo.png"/></a>
  </td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libDaisy
   </div>
   <div id="projectbrief">Hardware Library for Daisy</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classdaisy_1_1_button_monitor.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdaisy_1_1_button_monitor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">daisy::ButtonMonitor&lt; BackendType, numButtons &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__libdaisy.html">LIBDAISY</a> &raquo; <a class="el" href="group__ui.html">UI</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A button monitor that generates events in a <a class="el" href="classdaisy_1_1_ui_event_queue.html" title="A queue that holds user input events in the UI system.">UiEventQueue</a>.  
 <a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename BackendType, uint32_t numButtons&gt;<br />
class daisy::ButtonMonitor&lt; BackendType, numButtons &gt;</div><p>A button monitor that generates events in a <a class="el" href="classdaisy_1_1_ui_event_queue.html" title="A queue that holds user input events in the UI system.">UiEventQueue</a>. </p>
<dl class="section author"><dt>Author</dt><dd>jelliesen</dd></dl>
<p>This class monitors a number of buttons and detects changes in their state. When a change is detected, an event is added to a <a class="el" href="classdaisy_1_1_ui_event_queue.html" title="A queue that holds user input events in the UI system.">UiEventQueue</a>. If required, software debouncing can be applied.</p>
<p>This class can monitor an arbitrary number of buttons or switches, as configured by its template argument <code>numButtons</code>. Each of the buttons is identified by an ID number from <code>0 .. numButtons - 1</code>. This number will also be used when events are posted to the <a class="el" href="classdaisy_1_1_ui_event_queue.html" title="A queue that holds user input events in the UI system.">UiEventQueue</a>. It's suggested to define an enum in your project like this: </p><pre class="fragment">enum ButtonId { bttnOkay = 0, bttnCancel = 1, bttnStart = 2 };
</pre><p>In different projects, diffent ways of reading the button states will be used. That's why this class uses a generic backend that you'll have to write. The BackendType class will provide the source data for each button or switch. An instance of this backend must be supplied via the constructor. It must implement the following public function via which the <a class="el" href="classdaisy_1_1_button_monitor.html" title="A button monitor that generates events in a UiEventQueue.">ButtonMonitor</a> will request the current state of the button: </p><pre class="fragment">bool IsButtonPressed(uint16_t buttonId);
</pre><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">BackendType</td><td>The class type of the backend that will supply button states. </td></tr>
    <tr><td class="paramname">numButtons</td><td>The number of buttons to monitor. </td></tr>
  </table>
  </dd>
</dl>
</div>
<p><code>#include &lt;<a class="el" href="_button_monitor_8h_source.html">ButtonMonitor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae906010f7300e32945a64b7c3b5fa083" id="r_ae906010f7300e32945a64b7c3b5fa083"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae906010f7300e32945a64b7c3b5fa083">ButtonMonitor</a> ()</td></tr>
<tr class="separator:ae906010f7300e32945a64b7c3b5fa083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560eafea070347241b536948a6992180" id="r_a560eafea070347241b536948a6992180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a560eafea070347241b536948a6992180">Init</a> (<a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a> &amp;queueToAddEventsTo, BackendType &amp;backend, uint16_t debounceTimeoutMs=50, uint32_t doubleClickTimeoutMs=500, uint32_t retriggerTimeoutMs=2000, uint32_t retriggerPeriodMs=50)</td></tr>
<tr class="separator:a560eafea070347241b536948a6992180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b66b22d85bc18405cc687b1ebf932b" id="r_a58b66b22d85bc18405cc687b1ebf932b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58b66b22d85bc18405cc687b1ebf932b">Process</a> ()</td></tr>
<tr class="separator:a58b66b22d85bc18405cc687b1ebf932b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd6ee32dff40b4c583fb93d23373964" id="r_a2bd6ee32dff40b4c583fb93d23373964"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bd6ee32dff40b4c583fb93d23373964">IsButtonPressed</a> (uint16_t buttonId) const</td></tr>
<tr class="separator:a2bd6ee32dff40b4c583fb93d23373964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c2d8cd10507a342aa3061d4f6c43f8" id="r_a40c2d8cd10507a342aa3061d4f6c43f8"><td class="memItemLeft" align="right" valign="top">BackendType &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40c2d8cd10507a342aa3061d4f6c43f8">GetBackend</a> ()</td></tr>
<tr class="separator:a40c2d8cd10507a342aa3061d4f6c43f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e73492e9d6579c97a99479515043496" id="r_a9e73492e9d6579c97a99479515043496"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e73492e9d6579c97a99479515043496">GetNumButtonsMonitored</a> () const</td></tr>
<tr class="separator:a9e73492e9d6579c97a99479515043496"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae906010f7300e32945a64b7c3b5fa083" name="ae906010f7300e32945a64b7c3b5fa083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae906010f7300e32945a64b7c3b5fa083">&#9670;&#160;</a></span>ButtonMonitor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BackendType , uint32_t numButtons&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_button_monitor.html">daisy::ButtonMonitor</a>&lt; BackendType, numButtons &gt;::ButtonMonitor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a40c2d8cd10507a342aa3061d4f6c43f8" name="a40c2d8cd10507a342aa3061d4f6c43f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40c2d8cd10507a342aa3061d4f6c43f8">&#9670;&#160;</a></span>GetBackend()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BackendType , uint32_t numButtons&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BackendType &amp; <a class="el" href="classdaisy_1_1_button_monitor.html">daisy::ButtonMonitor</a>&lt; BackendType, numButtons &gt;::GetBackend </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the BackendType that is used by the monitor. </p>

</div>
</div>
<a id="a9e73492e9d6579c97a99479515043496" name="a9e73492e9d6579c97a99479515043496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e73492e9d6579c97a99479515043496">&#9670;&#160;</a></span>GetNumButtonsMonitored()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BackendType , uint32_t numButtons&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="classdaisy_1_1_button_monitor.html">daisy::ButtonMonitor</a>&lt; BackendType, numButtons &gt;::GetNumButtonsMonitored </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of buttons that are monitored by this class. </p>

</div>
</div>
<a id="a560eafea070347241b536948a6992180" name="a560eafea070347241b536948a6992180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560eafea070347241b536948a6992180">&#9670;&#160;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BackendType , uint32_t numButtons&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdaisy_1_1_button_monitor.html">daisy::ButtonMonitor</a>&lt; BackendType, numButtons &gt;::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdaisy_1_1_ui_event_queue.html">UiEventQueue</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>queueToAddEventsTo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BackendType &amp;</td>          <td class="paramname"><span class="paramname"><em>backend</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>debounceTimeoutMs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">50</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>doubleClickTimeoutMs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">500</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>retriggerTimeoutMs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">2000</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>retriggerPeriodMs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">50</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialises the <a class="el" href="classdaisy_1_1_button_monitor.html" title="A button monitor that generates events in a UiEventQueue.">ButtonMonitor</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queueToAddEventsTo</td><td>The <a class="el" href="classdaisy_1_1_ui_event_queue.html" title="A queue that holds user input events in the UI system.">UiEventQueue</a> to which events should be posted. </td></tr>
    <tr><td class="paramname">backend</td><td>The backend that supplies the current state of each button. </td></tr>
    <tr><td class="paramname">debounceTimeoutMs</td><td>A event is posted to the queue if the button state doesn't change for <code>debounceTimeoutMs</code>. Can be 0 to disable debouncing. </td></tr>
    <tr><td class="paramname">doubleClickTimeoutMs</td><td>The timeout for detecting double clicks. </td></tr>
    <tr><td class="paramname">retriggerTimeoutMs</td><td>The timeout after which a button will be retriggered when held down. 0 to disable retriggering. </td></tr>
    <tr><td class="paramname">retriggerPeriodMs</td><td>The speed with which a button will be retriggered when held down. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2bd6ee32dff40b4c583fb93d23373964" name="a2bd6ee32dff40b4c583fb93d23373964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd6ee32dff40b4c583fb93d23373964">&#9670;&#160;</a></span>IsButtonPressed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BackendType , uint32_t numButtons&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classdaisy_1_1_button_monitor.html">daisy::ButtonMonitor</a>&lt; BackendType, numButtons &gt;::IsButtonPressed </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>buttonId</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true, if the given button is currently pressed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>The unique ID of the button (&lt; numButtons) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58b66b22d85bc18405cc687b1ebf932b" name="a58b66b22d85bc18405cc687b1ebf932b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b66b22d85bc18405cc687b1ebf932b">&#9670;&#160;</a></span>Process()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BackendType , uint32_t numButtons&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdaisy_1_1_button_monitor.html">daisy::ButtonMonitor</a>&lt; BackendType, numButtons &gt;::Process </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks the value of each button and generates messages for the UIEventQueue. Call this at regular intervals, ideally from your main() idle loop. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/ui/<a class="el" href="_button_monitor_8h_source.html">ButtonMonitor.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedaisy.html">daisy</a></li><li class="navelem"><a class="el" href="classdaisy_1_1_button_monitor.html">ButtonMonitor</a></li>
  </ul>
</div>
<script type="text/javascript">
  // script for doxygen 1.9.2
  $(function () {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function () {
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    $(window).resize(function () {
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
