<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libDaisy: daisy::I2CHandle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libDaisy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedaisy.html">daisy</a></li><li class="navelem"><a class="el" href="classdaisy_1_1_i2_c_handle.html">I2CHandle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdaisy_1_1_i2_c_handle-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">daisy::I2CHandle Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="i2c_8h_source.html">i2c.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaisy_1_1_i2_c_handle_1_1_config.html">Config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4896eede457dea6ed2ed68d9b06e8e16"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> { <a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16ae0aa021e21dddbd6d8cecec71e9cf564">OK</a>
, <a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16acd22bad976363fdd1bfbf6759fede482">ERR</a>
 }</td></tr>
<tr class="separator:a4896eede457dea6ed2ed68d9b06e8e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f815f7a77948286f0fa0065a1f7c54c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a8f815f7a77948286f0fa0065a1f7c54c">Direction</a> { <a class="el" href="classdaisy_1_1_i2_c_handle.html#a8f815f7a77948286f0fa0065a1f7c54ca02d786cd0f7318c2533125f8b591abc5">TRANSMIT</a>
, <a class="el" href="classdaisy_1_1_i2_c_handle.html#a8f815f7a77948286f0fa0065a1f7c54ca42ddaaef1ffd16ad35901150add8f8f2">RECEIVE</a>
 }</td></tr>
<tr class="separator:a8f815f7a77948286f0fa0065a1f7c54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865f3f2c45b937c4084081f807e15d7b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a865f3f2c45b937c4084081f807e15d7b">CallbackFunctionPtr</a>) (void *context, <a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> result)</td></tr>
<tr class="separator:a865f3f2c45b937c4084081f807e15d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2185e1025f9fd194e8a8979aa875810b"><td class="memItemLeft" align="right" valign="top"><a id="a2185e1025f9fd194e8a8979aa875810b" name="a2185e1025f9fd194e8a8979aa875810b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>I2CHandle</b> (const <a class="el" href="classdaisy_1_1_i2_c_handle.html">I2CHandle</a> &amp;other)=default</td></tr>
<tr class="separator:a2185e1025f9fd194e8a8979aa875810b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1d67b0c17e735b1d367d88ad346d75"><td class="memItemLeft" align="right" valign="top"><a id="a8d1d67b0c17e735b1d367d88ad346d75" name="a8d1d67b0c17e735b1d367d88ad346d75"></a>
<a class="el" href="classdaisy_1_1_i2_c_handle.html">I2CHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classdaisy_1_1_i2_c_handle.html">I2CHandle</a> &amp;other)=default</td></tr>
<tr class="separator:a8d1d67b0c17e735b1d367d88ad346d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3010881bcac1d32f6f974edc9bbc6c0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a3010881bcac1d32f6f974edc9bbc6c0d">Init</a> (const <a class="el" href="structdaisy_1_1_i2_c_handle_1_1_config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:a3010881bcac1d32f6f974edc9bbc6c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2540dbf37ff6c023f95a8d331600d457"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdaisy_1_1_i2_c_handle_1_1_config.html">Config</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a2540dbf37ff6c023f95a8d331600d457">GetConfig</a> () const</td></tr>
<tr class="separator:a2540dbf37ff6c023f95a8d331600d457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf279a20fe8338672cbfa7f3e0e720ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#acf279a20fe8338672cbfa7f3e0e720ae">TransmitBlocking</a> (uint16_t address, uint8_t *data, uint16_t size, uint32_t timeout)</td></tr>
<tr class="separator:acf279a20fe8338672cbfa7f3e0e720ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5232996113cc203d72cb75e57b62fa9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a5232996113cc203d72cb75e57b62fa9d">ReceiveBlocking</a> (uint16_t address, uint8_t *data, uint16_t size, uint32_t timeout)</td></tr>
<tr class="separator:a5232996113cc203d72cb75e57b62fa9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2def35901e936c7c7c88aef8e1633f14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a2def35901e936c7c7c88aef8e1633f14">TransmitDma</a> (uint16_t address, uint8_t *data, uint16_t size, <a class="el" href="classdaisy_1_1_i2_c_handle.html#a865f3f2c45b937c4084081f807e15d7b">CallbackFunctionPtr</a> callback, void *callback_context)</td></tr>
<tr class="separator:a2def35901e936c7c7c88aef8e1633f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f3fdb091285a40a34ca2ebf09a94a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#ad6f3fdb091285a40a34ca2ebf09a94a8">ReceiveDma</a> (uint16_t address, uint8_t *data, uint16_t size, <a class="el" href="classdaisy_1_1_i2_c_handle.html#a865f3f2c45b937c4084081f807e15d7b">CallbackFunctionPtr</a> callback, void *callback_context)</td></tr>
<tr class="separator:ad6f3fdb091285a40a34ca2ebf09a94a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7a2bcf654a383c6032a86a13645ea3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a2a7a2bcf654a383c6032a86a13645ea3">ReadDataAtAddress</a> (uint16_t address, uint16_t mem_address, uint16_t mem_address_size, uint8_t *data, uint16_t data_size, uint32_t timeout)</td></tr>
<tr class="separator:a2a7a2bcf654a383c6032a86a13645ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb04976cded8bfd1b1427ae15d9458ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_i2_c_handle.html#afb04976cded8bfd1b1427ae15d9458ef">WriteDataAtAddress</a> (uint16_t address, uint16_t mem_address, uint16_t mem_address_size, uint8_t *data, uint16_t data_size, uint32_t timeout)</td></tr>
<tr class="separator:afb04976cded8bfd1b1427ae15d9458ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A handle for interacting with an I2C peripheral. This is a dumb gateway that internally points to one of the four I2C peripherals after it was initialised. It can then be copied and passed around. Use an <a class="el" href="classdaisy_1_1_i2_c_handle.html">I2CHandle</a> like this: </p><pre class="fragment">// setup the configuration
I2CHandle::Config i2c_conf;
i2c_conf.periph = I2CHandle::Config::Peripheral::I2C_1;
i2c_conf.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
i2c_conf.mode   = I2CHandle::Config::Mode::Master;
i2c_conf.pin_config.scl  = {DSY_GPIOB, 8};
i2c_conf.pin_config.sda  = {DSY_GPIOB, 9};
// initialise the peripheral
I2CHandle i2c;
i2c.Init(i2c_conf);
// now i2c points to the corresponding peripheral and can be used.
i2c.TransmitBlocking( ... );
</pre> </div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a865f3f2c45b937c4084081f807e15d7b" name="a865f3f2c45b937c4084081f807e15d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865f3f2c45b937c4084081f807e15d7b">&#9670;&nbsp;</a></span>CallbackFunctionPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* daisy::I2CHandle::CallbackFunctionPtr) (void *context, <a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> result)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A callback to be executed when a dma transfer is complete. </p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a8f815f7a77948286f0fa0065a1f7c54c" name="a8f815f7a77948286f0fa0065a1f7c54c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f815f7a77948286f0fa0065a1f7c54c">&#9670;&nbsp;</a></span>Direction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classdaisy_1_1_i2_c_handle.html#a8f815f7a77948286f0fa0065a1f7c54c">daisy::I2CHandle::Direction</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8f815f7a77948286f0fa0065a1f7c54ca02d786cd0f7318c2533125f8b591abc5" name="a8f815f7a77948286f0fa0065a1f7c54ca02d786cd0f7318c2533125f8b591abc5"></a>TRANSMIT&#160;</td><td class="fielddoc"><p >&amp; </p>
</td></tr>
<tr><td class="fieldname"><a id="a8f815f7a77948286f0fa0065a1f7c54ca42ddaaef1ffd16ad35901150add8f8f2" name="a8f815f7a77948286f0fa0065a1f7c54ca42ddaaef1ffd16ad35901150add8f8f2"></a>RECEIVE&#160;</td><td class="fielddoc"><p >&amp; </p>
</td></tr>
</table>

</div>
</div>
<a id="a4896eede457dea6ed2ed68d9b06e8e16" name="a4896eede457dea6ed2ed68d9b06e8e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4896eede457dea6ed2ed68d9b06e8e16">&#9670;&nbsp;</a></span>Result</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">daisy::I2CHandle::Result</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return values for I2C functions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4896eede457dea6ed2ed68d9b06e8e16ae0aa021e21dddbd6d8cecec71e9cf564" name="a4896eede457dea6ed2ed68d9b06e8e16ae0aa021e21dddbd6d8cecec71e9cf564"></a>OK&#160;</td><td class="fielddoc"><p >&amp; </p>
</td></tr>
<tr><td class="fieldname"><a id="a4896eede457dea6ed2ed68d9b06e8e16acd22bad976363fdd1bfbf6759fede482" name="a4896eede457dea6ed2ed68d9b06e8e16acd22bad976363fdd1bfbf6759fede482"></a>ERR&#160;</td><td class="fielddoc"><p >&amp; </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2540dbf37ff6c023f95a8d331600d457" name="a2540dbf37ff6c023f95a8d331600d457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2540dbf37ff6c023f95a8d331600d457">&#9670;&nbsp;</a></span>GetConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structdaisy_1_1_i2_c_handle_1_1_config.html">Config</a> &amp; daisy::I2CHandle::GetConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the current config. </p>

</div>
</div>
<a id="a3010881bcac1d32f6f974edc9bbc6c0d" name="a3010881bcac1d32f6f974edc9bbc6c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3010881bcac1d32f6f974edc9bbc6c0d">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdaisy_1_1_i2_c_handle_1_1_config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initializes an I2C peripheral. </p>

</div>
</div>
<a id="a2a7a2bcf654a383c6032a86a13645ea3" name="a2a7a2bcf654a383c6032a86a13645ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7a2bcf654a383c6032a86a13645ea3">&#9670;&nbsp;</a></span>ReadDataAtAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::ReadDataAtAddress </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mem_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mem_address_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reads an amount of data from a specific memory address. This method will return an error if the I2C peripheral is in slave mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The slave device address. </td></tr>
    <tr><td class="paramname">mem_address</td><td>Pointer to data containing the address to read from device. </td></tr>
    <tr><td class="paramname">mem_address_size</td><td>Size of the memory address in bytes. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to buffer that will be filled with contents at mem_address </td></tr>
    <tr><td class="paramname">data_size</td><td>Size of the data to be read in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5232996113cc203d72cb75e57b62fa9d" name="a5232996113cc203d72cb75e57b62fa9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5232996113cc203d72cb75e57b62fa9d">&#9670;&nbsp;</a></span>ReceiveBlocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::ReceiveBlocking </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Receives data and blocks until the reception is complete. Use this for smaller transmissions of a few bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The slave device address. Unused in slave mode. </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be received. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data to be received, in bytes. </td></tr>
    <tr><td class="paramname">timeout</td><td>A timeout. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6f3fdb091285a40a34ca2ebf09a94a8" name="ad6f3fdb091285a40a34ca2ebf09a94a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6f3fdb091285a40a34ca2ebf09a94a8">&#9670;&nbsp;</a></span>ReceiveDma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::ReceiveDma </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a865f3f2c45b937c4084081f807e15d7b">CallbackFunctionPtr</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Receives data with a DMA and returns immediately. Use this for larger transmissions. The pointer to data must be located in the D2 memory domain by adding the <code>DMA_BUFFER_MEM_SECTION</code> attribute like this: uint8_t DMA_BUFFER_MEM_SECTION my_buffer[100]; If that is not possible for some reason, you MUST clear the cachelines spanning the size of the buffer, before initiating the dma transfer by calling <code>dsy_dma_clear_cache_for_buffer(buffer, size);</code></p>
<p >A single DMA is shared across I2C, I2C2 and I2C3. I2C4 has no DMA support (yet). If the DMA is busy with another transfer, the job will be queued and executed later. If there is a job waiting to be executed for this I2C peripheral, this function will block until the queue is free and the job can be queued.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The slave device address. Unused in slave mode. </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data buffer. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data to be received, in bytes. </td></tr>
    <tr><td class="paramname">callback</td><td>A callback to execute when the transfer finishes, or NULL. </td></tr>
    <tr><td class="paramname">callback_context</td><td>A pointer that will be passed back to you in the callback. <br  />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf279a20fe8338672cbfa7f3e0e720ae" name="acf279a20fe8338672cbfa7f3e0e720ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf279a20fe8338672cbfa7f3e0e720ae">&#9670;&nbsp;</a></span>TransmitBlocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::TransmitBlocking </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Transmits data and blocks until the transmission is complete. Use this for smaller transmissions of a few bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The slave device address. Unused in slave mode. </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data to be sent, in bytes. </td></tr>
    <tr><td class="paramname">timeout</td><td>A timeout. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2def35901e936c7c7c88aef8e1633f14" name="a2def35901e936c7c7c88aef8e1633f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2def35901e936c7c7c88aef8e1633f14">&#9670;&nbsp;</a></span>TransmitDma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::TransmitDma </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a865f3f2c45b937c4084081f807e15d7b">CallbackFunctionPtr</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Transmits data with a DMA and returns immediately. Use this for larger transmissions. The pointer to data must be located in the D2 memory domain by adding the <code>DMA_BUFFER_MEM_SECTION</code> attribute like this: uint8_t DMA_BUFFER_MEM_SECTION my_buffer[100]; If that is not possible for some reason, you MUST clear the cachelines spanning the size of the buffer, before initiating the dma transfer by calling <code>dsy_dma_clear_cache_for_buffer(buffer, size);</code></p>
<p >A single DMA is shared across I2C1, I2C2 and I2C3. I2C4 has no DMA support (yet). If the DMA is busy with another transfer, the job will be queued and executed later. If there is a job waiting to be executed for this I2C peripheral, this function will block until the queue is free and the job can be queued.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The slave device address. Unused in slave mode. </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data to be sent, in bytes. </td></tr>
    <tr><td class="paramname">callback</td><td>A callback to execute when the transfer finishes, or NULL. </td></tr>
    <tr><td class="paramname">callback_context</td><td>A pointer that will be passed back to you in the callback. <br  />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb04976cded8bfd1b1427ae15d9458ef" name="afb04976cded8bfd1b1427ae15d9458ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb04976cded8bfd1b1427ae15d9458ef">&#9670;&nbsp;</a></span>WriteDataAtAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_i2_c_handle.html#a4896eede457dea6ed2ed68d9b06e8e16">Result</a> daisy::I2CHandle::WriteDataAtAddress </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mem_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mem_address_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Writes an amount of data from a specific memory address. This method will return an error if the I2C peripheral is in slave mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The slave device address. </td></tr>
    <tr><td class="paramname">mem_address</td><td>Pointer to data containing the address to write to device. </td></tr>
    <tr><td class="paramname">mem_address_size</td><td>Size of the memory address in bytes. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to buffer that will be written to the mem_address </td></tr>
    <tr><td class="paramname">data_size</td><td>Size of the data to be written in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/per/<a class="el" href="i2c_8h_source.html">i2c.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
